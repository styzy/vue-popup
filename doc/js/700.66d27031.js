(self["webpackChunk_styzy_vue_popup"]=self["webpackChunk_styzy_vue_popup"]||[]).push([[700],{458:function(t,e,a){"use strict";a.r(e);var i=a(601),s=a.n(i),n=a(314),o=a.n(n),d=o()(s());d.push([t.id,'.index[data-v-97e05c12]{display:flex;flex-direction:column;align-items:flex-start;padding:20px;gap:20px}.index .title[data-v-97e05c12]{padding:10px 0;color:#424242;font-weight:700;font-size:28px}.index .title.large[data-v-97e05c12]{padding:20px 0;font-size:36px}.index .title.sub[data-v-97e05c12]{padding:0;font-size:20px}.index .info[data-v-97e05c12]{font-weight:700;font-size:16px}.index .des[data-v-97e05c12]{padding:10px 20px;border-radius:5px;background-color:#f7f7f7;color:#333}.index .des[data-v-97e05c12]:before{content:"说明："}',""]),e["default"]=d},459:function(t,e,a){"use strict";a.r(e);var i=a(601),s=a.n(i),n=a(314),o=a.n(n),d=o()(s());d.push([t.id,"@keyframes fadeIn-data-v-7d86fed0{0%{opacity:0}to{opacity:1}}@keyframes fadeOut-data-v-7d86fed0{0%{opacity:1}to{opacity:0}}@keyframes scaleIn-data-v-7d86fed0{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes scaleOut-data-v-7d86fed0{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes flyIn-data-v-7d86fed0{0%{transform:translateY(-100vh)}to{transform:translateY(0)}}@keyframes flyOut-data-v-7d86fed0{0%{transform:translateY(0)}to{transform:translateY(-100vh)}}.popup-mask[data-v-7d86fed0]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3);animation-timing-function:linear}.popup-mask.animation-fade.v-enter-active[data-v-7d86fed0]{animation-name:fadeIn-data-v-7d86fed0}.popup-mask.animation-fade.v-leave-active[data-v-7d86fed0]{animation-name:fadeOut-data-v-7d86fed0}.popup-mask.animation-scale.v-enter-active[data-v-7d86fed0]{animation-name:scaleIn-data-v-7d86fed0}.popup-mask.animation-scale.v-leave-active[data-v-7d86fed0]{animation-name:scaleOut-data-v-7d86fed0}.popup-mask.animation-fly.v-enter-active[data-v-7d86fed0]{animation-name:flyIn-data-v-7d86fed0}.popup-mask.animation-fly.v-leave-active[data-v-7d86fed0]{animation-name:flyOut-data-v-7d86fed0}",""]),e["default"]=d},700:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return H}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("div",{staticClass:"title large"},[t._v("@styzy/vue-popup")]),a("div",{staticClass:"title"},[t._v("Vue弹出层插件")]),a("div",{staticClass:"info"},[t._v("版本："+t._s(t.Popup.version))]),a("div",{staticClass:"info"},[t._v("作者：styzy")]),t._m(0),t._m(1),a("div",{staticClass:"title large"},[t._v("示例")]),a("div",{staticClass:"title"},[t._v("基础功能")]),a("div",{staticClass:"title sub"},[t._v("默认")]),a("button",{on:{click:function(e){return t.handlePopup()}}},[t._v("打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过调用 render() 方法即可打开弹出层。")]),a("div",{staticClass:"title sub"},[t._v("无遮罩层")]),a("button",{on:{click:function(e){return t.handlePopupWithoutMask()}}},[t._v("打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过将 mask 属性设置为 false 即可不渲染遮罩层，默认为 true。")]),a("div",{staticClass:"title sub"},[t._v("全屏")]),a("button",{on:{click:function(e){return t.handlePopupFullScreen()}}},[t._v("打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过将 width 和 height 属性设置为 100% 即可实现全屏弹出层。")]),a("div",{staticClass:"title"},[t._v("动画示例")]),a("div",{staticClass:"des"},[t._v("遮罩层默动画为 淡入淡出，弹出层视图默认动画为 淡入淡出 + 缩放，所有动画参数为数组类型，可以自由组合。")]),a("div",{staticClass:"title sub"},[t._v("缩放")]),a("button",{on:{click:function(e){return t.handlePopupScale()}}},[t._v("打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过将 viewAnimations 属性设置为 [Popup.ANIMATION_TYPES.SCALE] 即可实现缩放效果。")]),a("div",{staticClass:"title sub"},[t._v("淡入淡出")]),a("button",{on:{click:function(e){return t.handlePopupFade()}}},[t._v("打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过将 viewAnimations 属性设置为 [Popup.ANIMATION_TYPES.FADE] 即可实现淡入淡出效果。")]),a("div",{staticClass:"title sub"},[t._v("飞入")]),a("button",{on:{click:function(e){return t.handlePopupFly()}}},[t._v("打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过将 viewAnimations 属性设置为 [Popup.ANIMATION_TYPES.FLY] 即可实现飞入效果。")]),a("div",{staticClass:"title sub"},[t._v("设置动画持续时间")]),a("div",{staticClass:"des"},[t._v("通过 animationDuration 属性即可设置动画持续时间，单位：毫秒，默认为 100 毫秒。")]),a("button",{on:{click:function(e){return t.handlePopupDuration()}}},[t._v("打开弹出层")]),a("div",{staticClass:"title large"},[t._v("API 文档")]),a("div",{staticClass:"title"},[t._v("Popup(options : Object) : popup - 插件实例")]),a("div",{staticClass:"des"},[t._v("使用弹出层功能前，需要实例化插件，通过实例化参数，可以进行一些基础设置")]),a("div",{staticClass:"title sub"},[t._v("options.zIndex : Number")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层的层级起始值，默认为 1000 ，所有弹出层将会从这个值开始往上递增")]),a("div",{staticClass:"title sub"},[t._v("options.parentVm : VueComponent")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层默认挂载节点，默认为 document.body")]),a("div",{staticClass:"title"},[t._v("Function() close : popup.render(options : Object) - 打开弹出层")]),a("div",{staticClass:"des"},[t._v("通过调用该方法，可以打开弹出层，该方法支持传入多个参数，用于自定义弹出层。该方法的返回值是一个函数，执行该函数可以关闭弹出层")]),a("div",{staticClass:"title sub"},[t._v("options.component : VueComponent || ()=>VueComponent")]),a("div",{staticClass:"des"},[t._v("用于传入一个用于渲染的组件，或者是一个异步组件的加载函数，默认为 null")]),a("div",{staticClass:"title sub"},[t._v("options.componentProps : Object")]),a("div",{staticClass:"des"},[t._v("用于给组件传入 props ，默认为 {}")]),a("div",{staticClass:"title sub"},[t._v("options.width : String")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层宽度，如果不设置，将自动根据内部元素宽度自适应，默认为 auto")]),a("div",{staticClass:"title sub"},[t._v("options.minWidth : String")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层最小宽度，默认为 auto")]),a("div",{staticClass:"title sub"},[t._v("options.maxWidth : String")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层最大宽度，默认为 auto")]),a("div",{staticClass:"title sub"},[t._v("options.height : String")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层高度，如果不设置，将自动根据内部元素高度自适应，默认为 auto")]),a("div",{staticClass:"title sub"},[t._v("options.minHeight : String")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层最小高度，默认为 auto")]),a("div",{staticClass:"title sub"},[t._v("options.maxHeight : String")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层最大高度，默认为 auto")]),a("div",{staticClass:"title sub"},[t._v("options.mask : Boolean")]),a("div",{staticClass:"des"},[t._v("用于设置是否渲染遮罩层，默认为 true")]),a("div",{staticClass:"title sub"},[t._v("options.maskClickClose : Boolean")]),a("div",{staticClass:"des"},[t._v("用于设置遮罩层是否可以点击关闭弹出层，默认为 false")]),a("div",{staticClass:"title sub"},[t._v("options.viewAnimations : Array")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层视图动画，默认为 [Popup.ANIMATION_TYPES.FADE, Popup.ANIMATION_TYPES.SCALE]")]),a("div",{staticClass:"title sub"},[t._v("options.maskAnimations Array")]),a("div",{staticClass:"des"},[t._v("用于设置遮罩层动画，默认为 [Popup.ANIMATION_TYPES.FADE]")]),a("div",{staticClass:"title sub"},[t._v("options.animationDuration : Number")]),a("div",{staticClass:"des"},[t._v("用于设置动画持续时间，单位：毫秒，默认为 100 毫秒")]),a("div",{staticClass:"title sub"},[t._v("options.zIndex : Number")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层层级，默认为 Popup 实例所设置的 zIndex 属性值，并且会往上递增")]),a("div",{staticClass:"title sub"},[t._v("options.mounted : Function")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层渲染完成后的回调函数")]),a("div",{staticClass:"title sub"},[t._v("options.destroyed : Function")]),a("div",{staticClass:"des"},[t._v("用于设置弹出层销毁后的回调函数")])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[t._v("Github："),a("a",{attrs:{href:"https://github.com/styzy/vue-popup",target:"_blank"}},[t._v("https://github.com/styzy/vue-popup")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[t._v("文档："),a("a",{attrs:{href:"https://github.com/styzy/vue-popup/blob/master/README.md",target:"_blank"}},[t._v("https://github.com/styzy/vue-popup/blob/master/README.md")])])}],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.destroyed?t._e():a("div",{staticClass:"popup"},[t.mask?a("PopupMask",t._b({attrs:{isLeave:t.isLeave},on:{close:t.closeHandler}},"PopupMask",t.maskProps,!1)):t._e(),a("PopupView",t._b({attrs:{isLeave:t.isLeave},on:{close:t.closeHandler}},"PopupView",t.viewProps,!1))],1)},o=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",[t.isShow&&!t.isLeave?a("div",{staticClass:"popup-mask",class:t.classObject,style:t.styleObject,on:{click:t.clickHandler}}):t._e()])},r=[];const p={FADE:"fade",SCALE:"scale",FLY:"fly"};var l={name:"PopupMask",inheritAttrs:!1,props:{isLeave:{type:Boolean,default:!1},zIndex:{type:Number},maskClickClose:{type:Boolean},animations:{type:Array},animationDuration:{type:Number}},data(){return{isShow:!1}},computed:{classObject(){return{[`animation-${p.FADE}`]:this.animations.includes(p.FADE),[`animation-${p.SCALE}`]:this.animations.includes(p.SCALE)}},styleObject(){return{zIndex:this.zIndex,animationDuration:this.animationDuration/1e3+"s"}}},created(){window.setTimeout(()=>{this.isShow=!0},0)},methods:{clickHandler(){this.maskClickClose&&this.$emit("close")}}},u=l,c=(a(840),a(656)),v=(0,c.A)(u,d,r,!1,null,"7d86fed0",null),m=v.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popup-view-wrapper",style:{zIndex:t.zIndex}},[a("transition",[t.isShow&&!t.isLeave?a("div",{staticClass:"popup-view",class:t.classObject,style:t.styleObject},[a(t.component,t._b({key:"popup-view-component-"+t.popupId,ref:"component",tag:"component",on:{close:t.handleComponentClose,"hook:mounted":t.handleComponentMounted}},"component",t.componentProps,!1))],1):t._e()])],1)},f=[],_={name:"PopupView",props:{popupId:{type:String,default:""},isLeave:{type:Boolean,default:!1},zIndex:{type:Number},animations:{type:Array},animationDuration:{type:Number},component:{default:null},componentProps:{default:()=>({})},width:{type:[Number,String]},maxWidth:{type:[Number,String]},minWidth:{type:[Number,String]},height:{type:[Number,String]},maxHeight:{type:[Number,String]},minHeight:{type:[Number,String]}},data(){return{isShow:!1,contentWidth:0,contentHeight:0,instance:null}},computed:{classObject(){return{[`animation-${p.FADE}`]:this.animations.includes(p.FADE),[`animation-${p.SCALE}`]:this.animations.includes(p.SCALE),[`animation-${p.FLY}`]:this.animations.includes(p.FLY)}},styleObject(){return{animationDuration:this.animationDuration/1e3+"s",width:this.formatSize(this.width)||"auto",maxWidth:this.formatSize(this.maxWidth)||"auto",minWidth:this.formatSize(this.minWidth)||"auto",height:this.formatSize(this.height)||"auto",maxHeight:this.formatSize(this.maxHeight)||"auto",minHeight:this.formatSize(this.minHeight)||"auto"}}},created(){window.setTimeout(()=>{this.isShow=!0},0)},methods:{async handleComponentMounted(){this.instance=this.$refs.component},handleComponentClose(...t){this.$emit("close",...t)},formatSize(t){return"string"===typeof t?"auto"!==t&&t:"number"===typeof t?`${t}px`:"auto"}}},y=_,C=(a(762),(0,c.A)(y,h,f,!1,null,"ece4d9c8",null)),b=C.exports,g={name:"Popup",components:{PopupMask:m,PopupView:b},inheritAttrs:!1,props:{mask:{type:Boolean},animationDuration:{type:Number},maskProps:{type:Object,default:()=>({})},viewProps:{type:Object,default:()=>({})}},data(){return{isLeave:!1,destroyed:!1,destroyPayload:void 0}},mounted(){this.$emit("mounted")},destroyed(){this.$emit("destroyed",this.destroyPayload)},methods:{destroy(){this.closeHandler()},async closeHandler(t){this.destroyPayload=t,this.isLeave=!0,await this.wait(this.animationDuration),this.destroyed=!0,await this.$nextTick(),this.$destroy()},wait(t){return new Promise(e=>{window.setTimeout(e,t)})}}},w=g,P=(0,c.A)(w,n,o,!1,null,null,null),k=P.exports;const A=function(t){return Object.prototype.toString.call(t).match(/\s+(\w+)/)[1]};var x=A;const I=function(t){let e,a=x(t);if("Array"===a)e=[];else{if("Object"!==a)return t;e={}}if("Array"===a){for(let a=0,i=t.length;a<i;a++)e.push(I(t[a]));return e}if("Object"===a){for(const a in t)e[a]=I(t[a]);return e}};var S=I,E={rE:"2.0.0"};const O={};let z=null,N=null;class D{static get version(){return E.rE}static get plugins(){return O}static get ANIMATION_TYPES(){return S(p)}static _usePlugin(t,e){this.plugins[t]=e,e(this,z)}static install(t){z=t,t.mixin({created(){N||(N=this.$root)}})}static use(t){if(!t)return;if(!z)throw new Error("Popup should be installed by Vue before install plugins");const{name:e,install:a=()=>{}}=t;if(this.plugins[e])throw new Error(`Popup: exist plugin name: ${e}`);if("Function"!==x(a))throw new Error("Popup: plugin's prop install must be a function");this._usePlugin(e,a)}get seed(){return this._seed++}get zIndex(){return this._zIndex++}get popups(){return this._popups}get parentVm(){return this._parentVm}get PopupConstructor(){return this._PopupConstructor}constructor({zIndex:t=1e3,parentVm:e}={}){if(!z)throw new Error("Popup should be installed by Vue before new Popup()");this._seed=0,this._zIndex=t,this._popups={},this._parentVm=e,this._PopupConstructor=null}_createPopupConstructor(){const t=this.parentVm||N;this._PopupConstructor=z.extend(Object.assign({},k,{parent:t}))}_create(){const t=`styzy-vue-popup-${this.seed}`,e={id:t,instance:null};return this.popups[t]=e,e}_destroy(t){if(!this.popups[t.id])return;const{instance:e}=t;e&&e.destroy()}render({zIndex:t=this.zIndex,mask:e=!0,maskClickClose:a=!1,component:i,componentProps:s,maskAnimations:n=[p.FADE],viewAnimations:o=[p.FADE,p.SCALE],animationDuration:d=100,width:r="auto",maxWidth:l="auto",minWidth:u="auto",height:c="auto",maxHeight:v="auto",minHeight:m="auto",mounted:h=()=>{},destroyed:f=()=>{}}={}){this.PopupConstructor||this._createPopupConstructor();const _=document.body.appendChild(document.createElement("div")),y=this._create(),C=new this.PopupConstructor({propsData:{mask:e,animationDuration:d,maskProps:{zIndex:t,maskClickClose:a,animations:n,animationDuration:d},viewProps:{zIndex:t,component:i,componentProps:s,animations:o,animationDuration:d,width:r,maxWidth:l,minWidth:u,height:c,maxHeight:v,minHeight:m}}});return y.instance=C,C.$on("mounted",()=>{h&&h(C)}),C.$on("destroyed",t=>{f&&f(t);const e=C.$el.parentNode;e&&e.removeChild(C.$el),delete this.popups[y.id]}),C.$mount(_),()=>{this._destroy(y)}}}var M=D,$=a(893);$.A.use(M);const F=new M({zIndex:9e3});var L={name:"Index",data(){return{Popup:M}},methods:{handlePopup(){F.render({component:()=>a.e(986).then(a.bind(a,986))})},handlePopupWithoutMask(){F.render({mask:!1,component:()=>a.e(986).then(a.bind(a,986))})},handlePopupFullScreen(){F.render({width:"100%",height:"100%",component:()=>a.e(765).then(a.bind(a,765))})},handlePopupScale(){F.render({viewAnimations:[M.ANIMATION_TYPES.SCALE],component:()=>a.e(986).then(a.bind(a,986))})},handlePopupFade(){F.render({viewAnimations:[M.ANIMATION_TYPES.FADE],component:()=>a.e(986).then(a.bind(a,986))})},handlePopupFly(){F.render({viewAnimations:[M.ANIMATION_TYPES.FLY],component:()=>a.e(986).then(a.bind(a,986))})},handlePopupDuration(){F.render({animationDuration:1e3,component:()=>a.e(986).then(a.bind(a,986))})}}},T=L,Y=(a(873),(0,c.A)(T,i,s,!1,null,"97e05c12",null)),H=Y.exports},762:function(t,e,a){var i=a(969);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(548).A;s("b71acc1a",i,!0,{sourceMap:!1,shadowMode:!1})},840:function(t,e,a){var i=a(459);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(548).A;s("7e0cf2d2",i,!0,{sourceMap:!1,shadowMode:!1})},873:function(t,e,a){var i=a(458);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(548).A;s("3ce276d3",i,!0,{sourceMap:!1,shadowMode:!1})},969:function(t,e,a){"use strict";a.r(e);var i=a(601),s=a.n(i),n=a(314),o=a.n(n),d=o()(s());d.push([t.id,"@keyframes fadeIn-data-v-ece4d9c8{0%{opacity:0}to{opacity:1}}@keyframes fadeOut-data-v-ece4d9c8{0%{opacity:1}to{opacity:0}}@keyframes scaleIn-data-v-ece4d9c8{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes scaleOut-data-v-ece4d9c8{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes flyIn-data-v-ece4d9c8{0%{transform:translateY(-100vh)}to{transform:translateY(0)}}@keyframes flyOut-data-v-ece4d9c8{0%{transform:translateY(0)}to{transform:translateY(-100vh)}}.popup-view-wrapper[data-v-ece4d9c8]{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;pointer-events:none}.popup-view-wrapper .popup-view[data-v-ece4d9c8]{position:relative;margin:auto;animation-timing-function:linear;pointer-events:auto}.popup-view-wrapper .popup-view.animation-fade.v-enter-active[data-v-ece4d9c8]{animation-name:fadeIn-data-v-ece4d9c8}.popup-view-wrapper .popup-view.animation-fade.v-leave-active[data-v-ece4d9c8]{animation-name:fadeOut-data-v-ece4d9c8}.popup-view-wrapper .popup-view.animation-scale.v-enter-active[data-v-ece4d9c8]{animation-name:scaleIn-data-v-ece4d9c8}.popup-view-wrapper .popup-view.animation-scale.v-leave-active[data-v-ece4d9c8]{animation-name:scaleOut-data-v-ece4d9c8}.popup-view-wrapper .popup-view.animation-fly.v-enter-active[data-v-ece4d9c8]{animation-name:flyIn-data-v-ece4d9c8}.popup-view-wrapper .popup-view.animation-fly.v-leave-active[data-v-ece4d9c8]{animation-name:flyOut-data-v-ece4d9c8}",""]),e["default"]=d}}]);
//# sourceMappingURL=700.66d27031.js.map